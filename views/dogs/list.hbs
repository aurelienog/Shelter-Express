
<main class="md:flex justify-center  bg-bg-icons bg-repeat"> 

  <input type="checkbox" id="toggle-filters" class="peer/toggle-filters hidden" />

  <aside class="absolute bg-white/80 left-0 transform -translate-x-full origin-top transition-transform duration-300 peer-checked/toggle-filters:-translate-x-0 peer-checked/toggle-filters:relative md:block bg-radial w-64 border    border-white rounded-bl-lg rounded-tl-lg" aria-label="Sidebar">
  <div class="px-4">

      <form action="/dogs" method="get">
        <fieldset class="my-6">
              <legend class="font-bold">Sort By</legend>
                <div>
                  <input type="radio" id="weight" name="SortBy" value="weightAsc" class="cursor-pointer">
                  <label for="weight">Weight</label>
                </div>

                <div>
                  <input type="radio" id="age" name="SortBy" value="ageAsc" class="cursor-pointer">
                  <label for="age">Age</label>
                </div>
            </fieldset>

    <h3 class="text-2xl">Filter by:</h3>
        <ul class="space-y-6 mb-6 font-medium">
          
          <li>
            <fieldset class="mt-6">
              <legend class="font-bold">Sex</legend>
      
                <div>
                  <input type="radio" id="male" name="sex" value="male" class="cursor-pointer" {{isSelected "male" query.sex}}>
                  <label for="male">Male</label>
                </div>

                <div>
                  <input type="radio" id="female" name="sex" value="female" class="cursor-pointer" {{isSelected "female" query.sex}}>
                  <label for="female">Female</label>
                </div>
            </fieldset>
          </li>

          <li>
          <fieldset class="mt-2">
          <legend class="font-bold">Size</legend>
          <div>
            <input type="radio" id="small" name="size" value="small" class="cursor-pointer" {{isSelected "small" query.size}}>
            <label for="small">Small (-4kg)</label>
          </div>
          <div>
            <input type="radio" id="medium" name="size" value="medium" class="cursor-pointer" {{isSelected "medium" query.size}}>
            <label for="medium">Medium (5 - 10 kg)</label>
          </div>
          <div>
            <input type="radio" id="large" name="size" value="large" class="cursor-pointer" {{isSelected "large" query.size}}>
            <label for="large">Large (11 - 25kg)</label>
          </div>              
          <div>
            <input type="radio" id="giant" name="size" value="giant" class="cursor-pointer" {{isSelected "giant" query.size}}>
            <label for="giant">Giant (+ 26 kg)</label>
          </div>
        </fieldset>
          </li>

          <li>          
            <div class="relative mb-6 ">
              <h4>Max Age</h4>
              <label for="labels-range-input" class="sr-only">Labels range</label>
              <input id="labels-range-input" name="maxAge" type="range" value="{{isMaxAge query.maxAge}}" min="1" max="15" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700">
              <span class="text-sm absolute start-0 -bottom-6">1</span>
              <span class="text-sm  absolute start-1/3 -translate-x-1/2 rtl:translate-x-1/2 -bottom-6">5</span>
              <span class="text-sm absolute start-2/3 -translate-x-1/2 rtl:translate-x-1/2 -bottom-6">10</span>
              <span class="text-sm absolute end-0 -bottom-6">15</span>
            </div></li>

          <li>
            <fieldset class="mt-8">
            <legend class="font-bold flex items-center gap-2"> Need a license?
                <img src="../../assets/info.svg" alt="More information about licensing" class="w-5">
            </legend>

            <div>
              <input type="radio" id="yes" name="license" value="yes" class="cursor-pointer" {{isSelected "yes" query.license}}>
              <label for="yes">Yes</label>
            </div>
        
            <div>
              <input type="radio" id="no" name="license" value="no" class="cursor-pointer" {{isSelected "no" query.license}}>
              <label for="no">No</label>
            </div>
            </fieldset>
          </li>

          <li>
            <fieldset>
            <legend class="font-bold">Home desired</legend>
          
            <div>
              <input type="radio" id="any" name="idealHome" value="any" class="cursor-pointer" {{isSelected "any" query.idealHome}}>
              <label for="any">Any Location</label>
            </div>
          
            <div>
              <input type="radio" id="away" name="idealHome" value="away" class="cursor-pointer" {{isSelected "away" query.idealHome}}>
              <label for="away">Away From Inner City</label>
            </div>

            </fieldset>
          </li>

          <li>
            <fieldset>
              <legend class="font-bold">Living with children</legend>
        
              <div>
                <input type="radio" id="yes" name="livingWithChildren" value="yes" class="cursor-pointer" {{isSelected "yes" query.livingWithChildren}}>
                <label for="yes">Yes</label>
              </div>
            
              <div>
                <input type="radio" id="no" name="livingWithChildren" value="no" class="cursor-pointer" {{isSelected "no" query.livingWithChildren}}>
                <label for="no">No</label>
              </div>
            </fieldset>
          </li>

          <li>
              <fieldset>
              <legend class="font-bold">Living with dogs</legend>
        
              <div>
                <input type="radio" id="yes" name="livingWithDogs" value="yes" class="cursor-pointer" {{isSelected "yes" query.livingWithDogs}}>
                <label for="yes">Yes</label>
              </div>
            
              <div>
                <input type="radio" id="no" name="livingWithDogs" value="no" class="cursor-pointer" {{isSelected "no" query.livingWithDogs}}>
                <label for="no">No</label>
              </div>
            </fieldset>
          </li>

          <li>
            <fieldset>
              <legend class="font-bold">Living with cats</legend>
        
              <div>
                <input type="radio" id="yes" name="livingWithCats" value="yes" class="cursor-pointer" {{isSelected "yes" query.livingWithCats}}>
                <label for="yes">Yes</label>
              </div>
            
              <div>
                <input type="radio" id="no" name="livingWithCats" value="no" class="cursor-pointer" {{isSelected "no" query.livingWithCats}}>
                <label for="no">No</label>
              </div>
            </fieldset>
          </li>
        </ul>

        <button type="submit" class="border rounded-lg bg-cta p-2 m-2 mx-auto text-white cursor-pointer w-full  block">Search</button>

        <a href="/dogs" class="block border w-full py-2 m-2 text-center mx-auto border-white rounded-lg">Reset</a>


      </form>
  </div>
  </aside>  


<section class="relative bg-white/80 md:p-4 lg:p-12 peer-checked/toggle-filters:rounded-tl-none peer-checked/toggle-filters:rounded-bl-none rounded-lg ">

  <div class="py-16 text-center">

    <h2 class="text-3xl md:text-5xl">Our compagnons</h2>

    <p class="mt-8  leading-normal text-gray-color md:w-4/5 md:mx-auto">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vel
            suscipit voluptate obcaecati iure, nesciunt quod unde sunt repellat
            similique delectus.
    </p>

    <div class="md:text-center text-white my-12 flex justify-between ">
  
      <label for="toggle-filters" class="px-6 py-2 ml-2 place-items-center border rounded-lg bg-cta cursor-pointer inline-block">Filter</label>

      <div class="flex mx-auto gap-4">
        {{#isAdmin currentUser}}
          <a href="/dogs/create" class="border rounded-lg bg-cta p-2 cursor-pointer inline-block">Add a dog</a>
        {{/isAdmin}}

        {{#isAdmin currentUser}}
          <a href="/cats/create" class="border rounded-lg bg-cta p-2 cursor-pointer inline-block">Add a cat</a>
        {{/isAdmin}}

        {{#isAdmin currentUser}}
          <a href="/animals/create" class="border rounded-lg bg-cta p-2 cursor-pointer inline-block">Add another animal</a>
        {{/isAdmin}}
      </div>

    </div>


    <div class="grid justify-items-center md:grid-cols-4 grid-flow-row gap-8">
  
  {{#each dogs as |dog|}}
    <article role="button" onclick="window.location.href='/dogs/{{dog.id}}'" class="card {{#isSex dog "female"}} bg-pink-200 {{/isSex}} bg-blend-multiply {{#isSex dog "male"}} bg-blue-200 {{/isSex}} relative  w-[18rem] h-[28rem] grid justify-items-center justify-center p-2 border-8 rounded-lg shadow-black shadow-sm cursor-pointer  hover:scale-[1.10] transition-all">

      <div class="w-full pt-1 flex gap-1">
          <h3 class="ml-2 text-xl uppercase">{{dog.name}}</h3> 
          {{#isSex dog "male"}}<img src="../../assets/male.svg" alt="" class="w-6 h-6">{{/isSex}}
          {{#isSex dog "female"}}<img src="../../assets/female.svg" alt="" class="w-6 h-6">{{/isSex}}
      </div>
                
      <div class=" aspect-square mx-1 self-center relative">
        <img class="rounded-full aspect-square  mx-auto md:w-full md:rounded-lg md:border-2" src="{{dog.image}}">
      </div>

      <div class="w-full ml-6 mt-6 text-start capitalize leading-6 my-2">
          <p>{{dog.sex}}
          <br>{{dog.age}} years old
          <br>{{dog.size}} size</p>   
          <button class="absolute right-4 bottom-8">
            <svg class="w-[72px] h-[72px] text-black hover:text-red-500 dark:text-white" 
            aria-hidden="true" xmlns="http://www.w3.org/2000/svg" 
            width="24" height="24" fill="none" viewBox="0 0 24 24" 
            stroke="currentColor" stroke-width="1">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"/>
            </svg>
          </button>
      </div>



        


      {{#if dog.license}}<div class="flex gap-1 justify-center border-2 py-1 rounded-b-lg bg-red-400/80 px-[0.650rem] w-[91%] absolute bottom-[8rem] ">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-5 aspect-square fill-black">
          <path d="M11.001 10h2v5h-2zM11 16h2v2h-2z"><title>Requires a license</title></path><path d="M13.768 4.2C13.42 3.545 12.742 3.138 12 3.138s-1.42.407-1.768 1.063L2.894 18.064a1.986 1.986 0 0 0 .054 1.968A1.984 1.984 0 0 0 4.661 21h14.678c.708 0 1.349-.362 1.714-.968a1.989 1.989 0 0 0 .054-1.968L13.768 4.2zM4.661 19 12 5.137 19.344 19H4.661z"></path>
        </svg>
        <p class=" text-sm">You need a license to pick me</p>
      </div>{{/if}}

    </article>
  {{/each}} 

</div>

  </div>
</section>
</main>